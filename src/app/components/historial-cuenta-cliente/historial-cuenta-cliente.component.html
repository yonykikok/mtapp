<ion-header>
  <app-clasic-toolbar [ruta]="'/cuentas-clientes'" [isModal]="true" [title]="'Historial de cuenta'"></app-clasic-toolbar>
</ion-header>

<ion-content class="historial-container">

  <!-- ðŸŸ¢ InformaciÃ³n del Cliente -->
  <ion-card class="cliente-card">
    <ion-card-header>
      <ion-card-title>
        <ion-icon name="person-circle-outline"></ion-icon> InformaciÃ³n del Cliente
      </ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <ion-grid>
        <ion-row>
          <ion-col size="12">
            <p><strong>DNI:</strong> {{ cliente.dni }}</p>
          </ion-col>
          <ion-col size="12">
            <p><strong>TelÃ©fono:</strong> {{ cliente.telefono }}</p>
          </ion-col>
          <ion-col size="12">
            <p><strong>DirecciÃ³n:</strong> {{ cliente.direccion }}</p>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-card-content>
  </ion-card>

  <!-- ðŸŸ¢ Historial de Compras -->
  <ion-list *ngIf="cliente.historial && cliente.historial.length > 0" class="historial-list">
    <ion-accordion-group>
      <ion-accordion *ngFor="let historial of cliente.historial; let i = index">
        <!-- ðŸ”¹ Encabezado del Historial -->
        <ion-item slot="header" class="historial-header">
          <ion-text color="primary">
            <h3>ðŸ›’ Compra #{{ i + 1 }}</h3>
          </ion-text>
        </ion-item>

        <!-- ðŸ”¹ Contenido del Historial -->
        <div class="ion-padding historial-content" slot="content">

          <!-- ðŸ›ï¸ Items -->
          <h2 class="section-title">Productos Comprados</h2>
          <ion-list>
            <ion-item *ngFor="let item of historial.items" class="item-card">
              <ion-label>
                <h3>ðŸ“¦ {{ item.producto }}</h3>
                <p>ðŸ’° {{ item.precio | currency }}</p>
              </ion-label>
            </ion-item>
          </ion-list>

          <!-- ðŸ’³ Pagos -->
          <h2 class="section-title">Pagos Realizados</h2>
          <ion-list>
            <ion-item *ngFor="let pago of historial.pagos" class="pago-card">
              <ion-label>
                <h3>ðŸ’³ {{ pago.concepto }}</h3>
                <p>ðŸ’µ {{ pago.monto | currency }}</p>
                <p class="fecha">ðŸ“… {{ pago.fecha | date: 'short' }}</p>
              </ion-label>
            </ion-item>
          </ion-list>

        </div>
      </ion-accordion>
    </ion-accordion-group>
  </ion-list>

</ion-content>