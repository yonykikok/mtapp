<ion-header>
  <app-clasic-toolbar [ruta]="ruta" [title]="'Detalle del modulo'"></app-clasic-toolbar>
</ion-header>

<ion-content>
  <ion-card>

    <ion-card-header>
      <ion-card-title class="ion-text-center">
        <b> Informacion de modelo</b>
      </ion-card-title>
    </ion-card-header>

    <ion-card-content>
      <ion-item class="ion-text-center">

        Modelo: {{clonRepuesto?.modelo}}
        <ion-icon slot="end" name="create-outline" (click)="mostrar('editModelo')"></ion-icon>
      </ion-item>
      <ion-list >
        <ion-item *ngIf="clonRepuesto && clonRepuesto.stock">

          Colores:
          <div *ngFor="let stock of clonRepuesto?.stock">
            <ion-chip outline="true" *ngIf="stock.color=='Blanco'" class="badge m-1"
              [ngStyle]="{'background-color':stock.color|colores}">{{stock.cantidad}}</ion-chip>
            <ion-chip outline="true" *ngIf="stock.color!='Blanco'" class="badge m-1" style="color: white;"
              [ngStyle]="{'background-color':stock.color|colores}">{{stock.cantidad}}</ion-chip>

          </div>
          <ion-icon slot="end" name="create-outline" (click)="mostrar('editStock')"></ion-icon>


        </ion-item>
        <ion-item>
          Precio: {{clonRepuesto.precio|currency:'USD':'symbol':'1.0-0'}} USD
          <ion-icon slot="end" name="create-outline" (click)="mostrar('editPrecio')"></ion-icon>
        </ion-item>
        <ion-item>
          Tipo: {{clonRepuesto.tipo}}
          <ion-icon slot="end" name="create-outline" (click)="mostrar('editTipo')"></ion-icon>
        </ion-item>
        <ion-item>
          Calidad: {{clonRepuesto.calidad}}
          <ion-icon slot="end" name="create-outline" (click)="mostrar('editCalidad')"></ion-icon>
        </ion-item>
      </ion-list>

      <hr>

      <!-- EDIT MODELO -->
      <ion-item  *ngIf="editModelo" class="ion-margin">
        <ion-input type="text" placeholder="Escriba el modelo" aria-label="Modulo" [(ngModel)]="clonRepuesto.modelo">
        </ion-input>
      </ion-item>
      <!-- FIN EDIT MODELO -->

      <!-- EDIT PRECIO -->
      <ion-item  *ngIf="editPrecio" class="ion-margin">
        <ion-input type="number" placeholder="precio en dolares" [(ngModel)]="clonRepuesto.precio"></ion-input>
      </ion-item>
      <!-- FIN EDIT PRECIO -->

      <!-- EDIT MARCA -->
      <ion-item  *ngIf="editMarca" class="ion-margin">
        <ion-select aria-label="fruit" placeholder="Select fruit" [(ngModel)]="clonRepuesto.marca">
          <ion-select-option *ngFor="let marca of marcas" [value]="marca">{{marca}}</ion-select-option>
        </ion-select>
      </ion-item>
      <!-- FIN EDIT MARCA -->

      <!-- EDIT STOCK -->


      <ion-item  *ngIf="editStock" class="ion-margin">
        <ion-select slot="start" placeholder="Selecciona el color" [(ngModel)]="color">
          <ion-select-option *ngFor="let color of colores" [value]="color">{{color}}</ion-select-option>
        </ion-select>
        <ion-select slot="end" placeholder="Selecciona la cantidad" [(ngModel)]="cantidad">
          <ion-select-option *ngFor="let cantidad of cantidades" [value]="cantidad">{{cantidad}}</ion-select-option>
        </ion-select>
      </ion-item>

      <div *ngIf="editStock" class="divColores">
        <div style="display: flex; justify-content: center;">
          <div *ngFor="let auxStock of clonRepuesto?.stock">
            <ion-chip outline="true" *ngIf="auxStock.color=='Blanco'" class="badge m-1"
              [ngStyle]="{'background-color':auxStock.color|colores}">{{auxStock.cantidad}}</ion-chip>
            <ion-chip outline="true" *ngIf="auxStock.color!='Blanco'" class="badge m-1" style="color: white;"
              [ngStyle]="{'background-color':auxStock.color|colores}">{{auxStock.cantidad}}</ion-chip>
          </div>
        </div>
        <ion-item-divider>
          <ion-button color="danger" (click)="resetearColores()">Reset colores</ion-button>
          <ion-button color="secondary" (click)="agregarNuevoColor()">Nuevo color</ion-button>
        </ion-item-divider>
      </div>
      <!-- FIN EDIT STOCK -->
      <!--  EDIT TIPO -->
      <ion-item  *ngIf="editTipo" class="ion-margin">
        <ion-select aria-label="fruit" placeholder="Select fruit" [(ngModel)]="clonRepuesto.tipo">
          <ion-select-option *ngFor="let tipo of tipos" [value]="tipo">{{tipo}}</ion-select-option>
        </ion-select>
      </ion-item>
      <!--  FIN EDIT TIPO -->

      <!-- EDIT CALIDAD -->
      <ion-item  *ngIf="editCalidad" class="ion-margin">
        <ion-select aria-label="fruit" placeholder="Select fruit" [(ngModel)]="clonRepuesto.calidad">
          <ion-select-option *ngFor="let calidad of calidades" [value]="calidad">{{calidad}}</ion-select-option>
        </ion-select>
      </ion-item>
      <!-- FIN EDIT CALIDAD -->


      <ion-button class="ion-margin" expand="block" ion-stroked-ion-button color="primary"
        (click)="showSaveDialog()">Guardar</ion-button>
      <ion-button class="ion-margin" expand="block" ion-stroked-ion-button color="danger"
        (click)="showDeleteDialog()">Borrar
        <ion-icon slot="end" name="trash-outline"></ion-icon></ion-button>

    </ion-card-content>
  </ion-card>
</ion-content>